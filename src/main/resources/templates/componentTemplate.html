<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="'Component - '+${component.getName()}"></title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


  <!-- jQuery -->
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"></link>

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"/>

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>
<body>
  <div class="modal fade" id="move">
    <div class="modal-dialog modal-lg">
      <div class="modal-content" >
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
          <h4 class="modal-title" id="myLargeModalLabel">Move Annotation</h4>
        </div>
        <div class="modal-body" id="elements">
          <div class="progress">
            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
              <span>Loading...</span>
            </div>
          </div>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div>

    <!-- add ports modal -->
  <div class="modal fade" id="ports">
    <div class="modal-dialog modal-lg">
      <div class="modal-content" >
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
          <h4 class="modal-title" id="myLargeModalLabel">Add Port</h4>
        </div>
        <div class="modal-body">
          <div style="margin-bottom: 5px;"><b>Port Name:</b></div>
      <input id="portName" type="text" class="form-control" placeholder="Set the Port name"/>
      <button id="createPort" type="button" class="btn btn-default" data-dismiss="collapse" disabled="true">Add Port</button>

        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div>
  <!-- end -->

  <section layout:include="@{/headerFragment} :: headerFragment"></section>
  <div class="panel panel-default" style="margin-top: -20px; height: 30px;">
    <div class="panel-body" style="margin-top: -10px;">
      <a href="#" th:href="@{/selectDoc/} + ${docId}">
        <span class="glyphicon glyphicon-arrow-left"></span> Back to Document 
      </a>
    </div>
  </div>
  <div class="well" style="margin-top: -20px;">
    <div class="clearfix element-title">
      <section layout:include="@{/templates} :: componentTemplate" th:with="component=${component},docId=${docId},edit=true"></section>
    </div>
  </div>

  <script type="text/javascript" th:inline="javascript">
  $(function () {
    $('[data-toggle="tooltip"]').tooltip(
)  });

$('#portName').bind('keyup', function() {
  if($("#portName").val() != ''){
    $('#createPort').removeAttr('disabled');
  }else{
    $('#createPort').attr('disabled', 'true');
  }
});
$("#createPort").click(function(){
  $("#ports").modal('toggle');
  var name = encodeURIComponent($("#portName").val());
  var loc = /*[[@{/addPortToComponent/} + ${docId}+'/'+${component.getExternalId()}+'/']]*/;
  loc+= name;
  $.ajax(loc).done(function(){
    document.location.hash = "#"+name;
    document.location.reload();
  });

});
</script>

  <style type="text/css">
  .element-title{
    margin-top: 20px;
    margin-bottom: 10px;
    border-bottom-width: 1px;
    border-bottom-style: solid;
    border-bottom-color: #C8C8C8;
  }

  </style>
</body>
</html>